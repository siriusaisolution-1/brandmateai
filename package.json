{
  "scripts": {
    "dev": "next dev",
    "build": "pnpm exec next build && node scripts/patch-client-manifests.mjs",
    "clean": "rimraf .next .vercel/output",
    "start": "next start",
    "start:test": "NEXT_TELEMETRY_DISABLED=1 NODE_ENV=production PORT=4300 pnpm exec next start -p 4300",
    "lint": "eslint . --max-warnings=0",
    "format": "prettier --write .",
    "test": "node scripts/run-tests.mjs",
    "test:unit": "vitest run --coverage",
    "test:e2e": "playwright test",
    "audit:local": "bash scripts/bm_audit.sh",
    "env:probe": "node scripts/env_probe.mjs",
    "check:deps": "bash scripts/check_dependencies.sh || true",
    "check:all": "bash scripts/check_code_quality.sh",
    "check:fast": "pnpm lint --max-warnings=0 && pnpm typecheck && pnpm test --coverage && pnpm build",
    "check:quality": "pnpm run check:all",
    "check:tests": "bash scripts/check_tests.sh || true",
    "ensure:client-manifests": "node -e \"console.log('ensure-client-manifest noop');\"",
    "fb:emul": "firebase emulators:start",
    "fb:preview": "firebase hosting:channel:deploy preview-$(git rev-parse --abbrev-ref HEAD)",
    "fb:deploy": "firebase deploy",
    "typecheck": "tsc -p tsconfig.json --noEmit",
    "prebuild": "pnpm run ensure:client-manifests",
    "check:vercel-output": "node -e \"const fs=require('fs'); const p='.vercel/output/functions/index.func'; console.log('functions dir exists?', fs.existsSync('.vercel/output/functions')); console.log('some func?', fs.existsSync(p));\""
  }
}